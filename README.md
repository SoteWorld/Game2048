# Game 2048

**Game 2048** – это настольная однопользовательская игра-головоломка, реализованная на C# с использованием **Windows Presentation Foundation (WPF)** и архитектуры **Model-View-ViewModel (MVVM)**. Цель игры – объединять плитки с одинаковыми номерами, суммируя их значения, чтобы достичь плитки номиналом **2048**. Проект демонстрирует чистую архитектуру приложения, отделение логики от интерфейса, а также использует анимации и хранение статистики игрока.

---

## Скриншот игры (placeholder)

![Game 2048 Screenshot](path/to/screenshot-or-gif.gif)

*Здесь будет скриншот или GIF, демонстрирующий игровой процесс 2048.*

---

## Особенности проекта

- **WPF-интерфейс**  
  Игра имеет графический интерфейс на WPF, что обеспечивает современный внешний вид и гибкую настройку UI. Используются стилевые ресурсы для оформления кнопок, ячеек поля и текста (например, цвета фона, шрифты и т.д. задаются в `App.xaml`).

- **Архитектура MVVM**  
  Логика приложения отделена от UI с помощью шаблона *Model-View-ViewModel*. В папке `ViewModels` находятся классы моделей представления, которые реализуют `INotifyPropertyChanged` для биндинга данных (через базовый класс `ViewModel`). Такое разделение улучшает поддерживаемость кода и упрощает тестирование.

- **Анимации плиток**  
  Проект заложил основу для анимаций плавного движения плиток, появления новых и слияния. При каждом ходе новые плитки генерируются и появляющиеся плитки выделяются цветом. Параметры `IsNew` и `IsMerged` в модели `Tile` планируются для использования в анимациях (например, можно добавить визуальный эффект появления новой плитки или мигание при объединении). Это делает игровой процесс более плавным и наглядным.

- **Таймер игры и счёт**  
  Во время игры отсчитывается время с начала раунда, а также ведётся текущий счёт. Таймер реализован через `DispatcherTimer` и обновляет свойство времени каждую секунду. В интерфейсе время отображается в формате **чч:мм:сс**, а счёт увеличивается при объединении плиток (например, объединение двух плиток “4” даст +8 к счёту). Эти показатели постоянно видны игроку под игровым полем.

- **Перезапуск и возврат в меню**  
  В любой момент игры игрок может начать заново или выйти в главное меню. На экране игры предусмотрены кнопки **Restart** (с иконкой перезагрузки) для сброса текущего поля и начала новой игры, а также **Menu** (с иконкой меню/стрелки назад) для выхода к главному меню без закрытия приложения. При проигрыше (отсутствии ходов) или достижении плитки 2048 игра автоматически предлагает сохранить результат и возвращается в меню, откуда можно начать новую партию.

- **Хранение статистики**  
  Проект поддерживает ведение *статистики игроков*. После окончания игры приложение спрашивает, сохранять ли статистику текущего пользователя. Данные по сыгранным играм, максимальному счёту и суммарному времени игры сохраняются в локальной базе данных **MongoDB**. В меню доступна страница статистики, где отображается таблица всех зарегистрированных пользователей с их рекордами.

---

## Структура проекта
```
  Game2048/
  ├─ Assets/ # Ресурсы интерфейса (иконки, изображения)
  ├─ Commands/ # Реализации команд (RelayCommand, NavigationCommand и т.д.)
  │ └─ Base/ # Базовый класс BaseCommand
  ├─ Converters/ # Конвертеры для привязки в XAML
  ├─ Models/ # Модели предметной области (GameBoard, Tile, UserProfile и др.)
  ├─ Repositories/ # Слой доступа к данным (UserRepository для MongoDB)
  ├─ ViewModels/ # Модели представления (MenuViewModel, GameViewModel и др.)
  │ └─ Base/ # Базовый ViewModel с INotifyPropertyChanged
  ├─ Views/ # XAML-страницы и окна (Pages/, Windows/)
  │ ├─ Pages/ # Страницы навигации (LoginPage, GamePage, StatisticsPage и др.)
  │ └─ Windows/ # При необходимости (например, окно настроек)
  ├─ App.xaml # Ресурсы приложения, стили
  ├─ MainWindow.xaml # Главное окно с Frame для навигации
  └─ Game2048.csproj # Файл проекта
```
---

## Инструкция по сборке и запуску

**Требования:**

1. **OS:** Windows 10 или 11.  
2. **.NET:** .NET 6.0+ (проект Target Framework: `net9.0-windows` — рекомендуется .NET 8 или .NET 9).  
3. **IDE:** Visual Studio 2022 (или Rider) с нагрузкой *“.NET Desktop Development”*.  
4. **MongoDB:** Локальный сервер MongoDB (порт по умолчанию 27017). Не обязателен для базовой игры, но необходим для сохранения статистики.

**Шаги:**

1. **Клонировать репозиторий**  
git clone https://github.com/SoteWorld/Game2048.git
2. **Открыть проект**  
В Visual Studio: **Open → Game2048.csproj**.

3. **Настроить MongoDB** (если требуется)  
Редактировать `UserRepository.cs`, строку подключения `"mongodb://localhost:27017"`.

4. **Собрать решение**  
Build → Build Solution.

5. **Запустить**  
Debug → Start Debugging (F5) или без отладки (Ctrl+F5).

6. **Игровой процесс**  
- **Login/Registration** → **Menu** → **Play** → используйте клавиши ←↑↓→.  
- **Score** и **Time** отображаются под полем.  
- **Restart** и **Menu** кнопки для управления.

7. **Просмотр статистики**  
В меню нажмите **Statistics**.

---

## Возможности для расширения (TODO)

1. **Плавные анимации движения** плиток (Storyboard, TranslateTransform).  
2. **Безопасное хранение паролей** (хеширование Bcrypt/SHA-256).  
3. **Функция “Undo”** – отмена последнего хода.  
4. **Новые режимы** – другие размеры поля (3×3, 5×5), продолжение после 2048.  
5. **Звуковые эффекты** и темы оформления.  
6. **Конфигурация** – вынести строку подключения в `appsettings.json`.  

---

## Контрибьюторам

Мы приветствуем вклад сообщества!  
1. Откройте **Issue** с описанием бага или предложением.  
2. Форкайте репозиторий.  
3. Создайте **Pull Request** с вашими изменениями.  
4. Поддерживайте MVVM-архитектуру и чистоту кода.

---

## Лицензия

Проект распространяется под лицензией **MIT**.  
Подробности в файле [LICENSE](LICENSE).

